{"ast":null,"code":"import _classCallCheck from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import CONST from\"./node.const\";import nodeHelper from\"./node.helper\";import{ContextMenu,MenuItem,ContextMenuTrigger}from\"react-contextmenu\";/**\n * Node component is responsible for encapsulating node render.\n * @example\n * const onClickNode = function(nodeId) {\n *      window.alert('Clicked node', nodeId);\n * };\n *\n * const onRightClickNode = function(nodeId) {\n *      window.alert('Right clicked node', nodeId);\n * }\n *\n * const onMouseOverNode = function(nodeId) {\n *      window.alert('Mouse over node', nodeId);\n * };\n *\n * const onMouseOutNode = function(nodeId) {\n *      window.alert('Mouse out node', nodeId);\n * };\n *\n * <Node\n *     id='nodeId'\n *     cx=22\n *     cy=22\n *     fill='green'\n *     fontSize=10\n *     fontColor='black'\n *     fontWeight='normal'\n *     dx=90\n *     label='label text'\n *     opacity=1\n *     renderLabel=true\n *     size=200\n *     stroke='none'\n *     strokeWidth=1.5\n *     svg='assets/my-svg.svg'\n *     type='square'\n *     viewGenerator=(node) => <CustomComponent node={node} />\n *     className='node'\n *     onClickNode={onClickNode}\n *     onRightClickNode={onRightClickNode}\n *     onMouseOverNode={onMouseOverNode}\n *     onMouseOutNode={onMouseOutNode} />\n */var Node=/*#__PURE__*/function(_React$Component){_inherits(Node,_React$Component);function Node(){var _getPrototypeOf2;var _this;_classCallCheck(this,Node);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Node)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleOnClickNode=function(){return _this.props.onClickNode&&_this.props.onClickNode(_this.props.id);};_this.handleOnRightClickNode=function(event){return _this.props.onRightClickNode&&_this.props.onRightClickNode(event,_this.props.id);};_this.handleOnMouseOverNode=function(){return _this.props.onMouseOverNode&&_this.props.onMouseOverNode(_this.props.id);};_this.handleOnMouseOutNode=function(){return _this.props.onMouseOut&&_this.props.onMouseOut(_this.props.id);};return _this;}_createClass(Node,[{key:\"render\",value:function render(){var _node,_node2;var nodeProps={cursor:this.props.cursor,onClick:this.handleOnClickNode,onContextMenu:this.handleOnRightClickNode,onMouseOut:this.handleOnMouseOutNode,onMouseOver:this.handleOnMouseOverNode,opacity:this.props.opacity};var textProps={dx:this.props.label.length>=15?-3.2*this.props.label.length:-3.3*this.props.label.length,dy:-25,fill:this.props.fontColor,fontSize:this.props.fontSize,fontWeight:this.props.fontWeight,opacity:this.props.opacity};var size=this.props.size;var gtx=this.props.cx,gty=this.props.cy,label=null,node=null;if(this.props.svg||this.props.viewGenerator){var height=size/10;var width=size/10;var tx=width/2;var ty=height/2;var transform=\"translate(\".concat(tx,\",\").concat(ty,\")\");label=React.createElement(\"text\",Object.assign({},textProps,{transform:transform}),this.props.label);// By default, if a view generator is set, it takes precedence over any svg image url\nif(this.props.viewGenerator&&!this.props.overrideGlobalViewGenerator){node=React.createElement(\"svg\",Object.assign({},nodeProps,{width:width,height:height}),React.createElement(\"foreignObject\",{x:\"0\",y:\"0\",width:\"100%\",height:\"100%\"},React.createElement(\"section\",{style:{height:height,width:width,backgroundColor:\"transparent\"}},this.props.viewGenerator(this.props))));}else{node=React.createElement(\"image\",Object.assign({},nodeProps,{href:this.props.svg,width:width,height:height}));}// svg offset transform regarding svg width/height\ngtx-=tx;gty-=ty;}else{nodeProps.d=nodeHelper.buildSvgSymbol(size,this.props.type);nodeProps.fill=this.props.fill;nodeProps.stroke=this.props.stroke;nodeProps.strokeWidth=this.props.strokeWidth;label=React.createElement(\"text\",textProps,this.props.label);node=React.createElement(\"path\",nodeProps);}var gProps={className:this.props.className,// NODE DEFAULT LOCATION\n// eslint-disable-next-line no-restricted-globals\ncx:((_node=node)===null||_node===void 0?void 0:_node.x)||screen.width/2.5,// NODE DEFAULT LOCATION\n// eslint-disable-next-line no-restricted-globals\ncy:((_node2=node)===null||_node2===void 0?void 0:_node2.y)||screen.height/2.8,id:this.props.id,transform:\"translate(\".concat(gtx,\",\").concat(gty,\")\")};return React.createElement(\"g\",gProps,node,this.props.renderLabel&&label);}}]);return Node;}(React.Component);export{Node as default};","map":{"version":3,"sources":["/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/src/components/Visualizer/Tree/Graph/node/Node.jsx"],"names":["React","CONST","nodeHelper","ContextMenu","MenuItem","ContextMenuTrigger","Node","handleOnClickNode","props","onClickNode","id","handleOnRightClickNode","event","onRightClickNode","handleOnMouseOverNode","onMouseOverNode","handleOnMouseOutNode","onMouseOut","nodeProps","cursor","onClick","onContextMenu","onMouseOver","opacity","textProps","dx","label","length","dy","fill","fontColor","fontSize","fontWeight","size","gtx","cx","gty","cy","node","svg","viewGenerator","height","width","tx","ty","transform","overrideGlobalViewGenerator","backgroundColor","d","buildSvgSymbol","type","stroke","strokeWidth","gProps","className","x","screen","y","renderLabel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport CONST from \"./node.const\";\n\nimport nodeHelper from \"./node.helper\";\n\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n/**\n * Node component is responsible for encapsulating node render.\n * @example\n * const onClickNode = function(nodeId) {\n *      window.alert('Clicked node', nodeId);\n * };\n *\n * const onRightClickNode = function(nodeId) {\n *      window.alert('Right clicked node', nodeId);\n * }\n *\n * const onMouseOverNode = function(nodeId) {\n *      window.alert('Mouse over node', nodeId);\n * };\n *\n * const onMouseOutNode = function(nodeId) {\n *      window.alert('Mouse out node', nodeId);\n * };\n *\n * <Node\n *     id='nodeId'\n *     cx=22\n *     cy=22\n *     fill='green'\n *     fontSize=10\n *     fontColor='black'\n *     fontWeight='normal'\n *     dx=90\n *     label='label text'\n *     opacity=1\n *     renderLabel=true\n *     size=200\n *     stroke='none'\n *     strokeWidth=1.5\n *     svg='assets/my-svg.svg'\n *     type='square'\n *     viewGenerator=(node) => <CustomComponent node={node} />\n *     className='node'\n *     onClickNode={onClickNode}\n *     onRightClickNode={onRightClickNode}\n *     onMouseOverNode={onMouseOverNode}\n *     onMouseOutNode={onMouseOutNode} />\n */\nexport default class Node extends React.Component {\n  /**\n   * Handle click on the node.\n   * @returns {undefined}\n   */\n  handleOnClickNode = () =>\n    this.props.onClickNode && this.props.onClickNode(this.props.id);\n\n  /**\n   * Handle right click on the node.\n   * @param {Object} event - native event.\n   * @returns {undefined}\n   */\n  handleOnRightClickNode = (event) =>\n    this.props.onRightClickNode &&\n    this.props.onRightClickNode(event, this.props.id);\n\n  /**\n   * Handle mouse over node event.\n   * @returns {undefined}\n   */\n  handleOnMouseOverNode = () =>\n    this.props.onMouseOverNode && this.props.onMouseOverNode(this.props.id);\n\n  /**\n   * Handle mouse out node event.\n   * @returns {undefined}\n   */\n  handleOnMouseOutNode = () =>\n    this.props.onMouseOut && this.props.onMouseOut(this.props.id);\n\n  render() {\n    const nodeProps = {\n      cursor: this.props.cursor,\n      onClick: this.handleOnClickNode,\n      onContextMenu: this.handleOnRightClickNode,\n      onMouseOut: this.handleOnMouseOutNode,\n      onMouseOver: this.handleOnMouseOverNode,\n      opacity: this.props.opacity,\n    };\n\n    const textProps = {\n      dx:\n        this.props.label.length >= 15\n          ? -3.2 * this.props.label.length\n          : -3.3 * this.props.label.length,\n      dy: -25,\n      fill: this.props.fontColor,\n      fontSize: this.props.fontSize,\n      fontWeight: this.props.fontWeight,\n      opacity: this.props.opacity,\n    };\n\n    const size = this.props.size;\n\n    let gtx = this.props.cx,\n      gty = this.props.cy,\n      label = null,\n      node = null;\n\n    if (this.props.svg || this.props.viewGenerator) {\n      const height = size / 10;\n      const width = size / 10;\n      const tx = width / 2;\n      const ty = height / 2;\n      const transform = `translate(${tx},${ty})`;\n\n      label = (\n        <text {...textProps} transform={transform}>\n          {this.props.label}\n        </text>\n      );\n\n      // By default, if a view generator is set, it takes precedence over any svg image url\n      if (this.props.viewGenerator && !this.props.overrideGlobalViewGenerator) {\n        node = (\n          <svg {...nodeProps} width={width} height={height}>\n            <foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n              <section\n                style={{ height, width, backgroundColor: \"transparent\" }}\n              >\n                {this.props.viewGenerator(this.props)}\n              </section>\n            </foreignObject>\n          </svg>\n        );\n      } else {\n        node = (\n          <image\n            {...nodeProps}\n            href={this.props.svg}\n            width={width}\n            height={height}\n          />\n        );\n      }\n\n      // svg offset transform regarding svg width/height\n      gtx -= tx;\n      gty -= ty;\n    } else {\n      nodeProps.d = nodeHelper.buildSvgSymbol(size, this.props.type);\n      nodeProps.fill = this.props.fill;\n      nodeProps.stroke = this.props.stroke;\n      nodeProps.strokeWidth = this.props.strokeWidth;\n\n      label = <text {...textProps}>{this.props.label}</text>;\n      node = <path {...nodeProps} />;\n    }\n\n    const gProps = {\n      className: this.props.className,\n      // NODE DEFAULT LOCATION\n      // eslint-disable-next-line no-restricted-globals\n      cx: node?.x || screen.width / 2.5,\n      // NODE DEFAULT LOCATION\n      // eslint-disable-next-line no-restricted-globals\n      cy: node?.y || screen.height / 2.8,\n      id: this.props.id,\n      transform: `translate(${gtx},${gty})`,\n    };\n\n    return (\n      <g {...gProps}>\n        {node}\n        {this.props.renderLabel && label}\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}