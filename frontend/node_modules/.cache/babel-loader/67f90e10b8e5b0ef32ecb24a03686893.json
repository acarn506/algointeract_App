{"ast":null,"code":"import _classCallCheck from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import CONST from\"./node.const\";import nodeHelper from\"./node.helper\";import{ContextMenu,MenuItem,ContextMenuTrigger}from\"react-contextmenu\";/**\n * Node component is responsible for encapsulating node render.\n * @example\n * const onClickNode = function(nodeId) {\n *      window.alert('Clicked node', nodeId);\n * };\n *\n * const onRightClickNode = function(nodeId) {\n *      window.alert('Right clicked node', nodeId);\n * }\n *\n * const onMouseOverNode = function(nodeId) {\n *      window.alert('Mouse over node', nodeId);\n * };\n *\n * const onMouseOutNode = function(nodeId) {\n *      window.alert('Mouse out node', nodeId);\n * };\n *\n * <Node\n *     id='nodeId'\n *     cx=22\n *     cy=22\n *     fill='green'\n *     fontSize=10\n *     fontColor='black'\n *     fontWeight='normal'\n *     dx=90\n *     label='label text'\n *     opacity=1\n *     renderLabel=true\n *     size=200\n *     stroke='none'\n *     strokeWidth=1.5\n *     svg='assets/my-svg.svg'\n *     type='square'\n *     viewGenerator=(node) => <CustomComponent node={node} />\n *     className='node'\n *     onClickNode={onClickNode}\n *     onRightClickNode={onRightClickNode}\n *     onMouseOverNode={onMouseOverNode}\n *     onMouseOutNode={onMouseOutNode} />\n */var Node=/*#__PURE__*/function(_React$Component){_inherits(Node,_React$Component);var _super=_createSuper(Node);function Node(){var _this;_classCallCheck(this,Node);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleOnClickNode=function(){return _this.props.onClickNode&&_this.props.onClickNode(_this.props.id);};_this.handleOnRightClickNode=function(event){return _this.props.onRightClickNode&&_this.props.onRightClickNode(event,_this.props.id);};_this.handleOnMouseOverNode=function(){return _this.props.onMouseOverNode&&_this.props.onMouseOverNode(_this.props.id);};_this.handleOnMouseOutNode=function(){return _this.props.onMouseOut&&_this.props.onMouseOut(_this.props.id);};return _this;}_createClass(Node,[{key:\"render\",value:function render(){var nodeProps={cursor:this.props.cursor,onClick:this.handleOnClickNode,onContextMenu:this.handleOnRightClickNode,onMouseOut:this.handleOnMouseOutNode,onMouseOver:this.handleOnMouseOverNode,opacity:this.props.opacity};var textProps={dx:20,dy:CONST.NODE_LABEL_DY,fill:this.props.fontColor,fontSize:this.props.fontSize,fontWeight:this.props.fontWeight,opacity:this.props.opacity};var size=this.props.size;var gtx=this.props.cx,gty=this.props.cy,label=null,node=null;if(this.props.svg||this.props.viewGenerator){var height=size/10;var width=size/10;var tx=width/2;var ty=height/2;var transform=\"translate(\".concat(tx,\",\").concat(ty,\")\");label=/*#__PURE__*/React.createElement(\"text\",Object.assign({},textProps,{transform:transform}),this.props.label);// By default, if a view generator is set, it takes precedence over any svg image url\nif(this.props.viewGenerator&&!this.props.overrideGlobalViewGenerator){node=/*#__PURE__*/React.createElement(\"svg\",Object.assign({},nodeProps,{width:width,height:height}),/*#__PURE__*/React.createElement(\"foreignObject\",{x:\"0\",y:\"0\",width:\"100%\",height:\"100%\"},/*#__PURE__*/React.createElement(\"section\",{style:{height:height,width:width,backgroundColor:\"transparent\"}},this.props.viewGenerator(this.props))));}else{node=/*#__PURE__*/React.createElement(\"image\",Object.assign({},nodeProps,{href:this.props.svg,width:width,height:height}));}// svg offset transform regarding svg width/height\ngtx-=tx;gty-=ty;}else{nodeProps.d=nodeHelper.buildSvgSymbol(size,this.props.type);nodeProps.fill=this.props.fill;nodeProps.stroke=this.props.stroke;nodeProps.strokeWidth=this.props.strokeWidth;label=/*#__PURE__*/React.createElement(\"text\",textProps,this.props.label);node=/*#__PURE__*/React.createElement(\"path\",nodeProps);}var gProps={className:this.props.className,cx:this.props.cx,cy:this.props.cy,id:this.props.id,transform:\"translate(\".concat(gtx,\",\").concat(gty,\")\")};return/*#__PURE__*/React.createElement(\"g\",gProps,node,this.props.renderLabel&&label);}}]);return Node;}(React.Component);export{Node as default};","map":{"version":3,"sources":["/Users/anthonycarnero/Documents/GitHub/algointeract_App/frontend/src/components/Visualizer/Graph/Graph/node/Node.jsx"],"names":["React","CONST","nodeHelper","ContextMenu","MenuItem","ContextMenuTrigger","Node","handleOnClickNode","props","onClickNode","id","handleOnRightClickNode","event","onRightClickNode","handleOnMouseOverNode","onMouseOverNode","handleOnMouseOutNode","onMouseOut","nodeProps","cursor","onClick","onContextMenu","onMouseOver","opacity","textProps","dx","dy","NODE_LABEL_DY","fill","fontColor","fontSize","fontWeight","size","gtx","cx","gty","cy","label","node","svg","viewGenerator","height","width","tx","ty","transform","overrideGlobalViewGenerator","backgroundColor","d","buildSvgSymbol","type","stroke","strokeWidth","gProps","className","renderLabel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport CONST from \"./node.const\";\n\nimport nodeHelper from \"./node.helper\";\n\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\n/**\n * Node component is responsible for encapsulating node render.\n * @example\n * const onClickNode = function(nodeId) {\n *      window.alert('Clicked node', nodeId);\n * };\n *\n * const onRightClickNode = function(nodeId) {\n *      window.alert('Right clicked node', nodeId);\n * }\n *\n * const onMouseOverNode = function(nodeId) {\n *      window.alert('Mouse over node', nodeId);\n * };\n *\n * const onMouseOutNode = function(nodeId) {\n *      window.alert('Mouse out node', nodeId);\n * };\n *\n * <Node\n *     id='nodeId'\n *     cx=22\n *     cy=22\n *     fill='green'\n *     fontSize=10\n *     fontColor='black'\n *     fontWeight='normal'\n *     dx=90\n *     label='label text'\n *     opacity=1\n *     renderLabel=true\n *     size=200\n *     stroke='none'\n *     strokeWidth=1.5\n *     svg='assets/my-svg.svg'\n *     type='square'\n *     viewGenerator=(node) => <CustomComponent node={node} />\n *     className='node'\n *     onClickNode={onClickNode}\n *     onRightClickNode={onRightClickNode}\n *     onMouseOverNode={onMouseOverNode}\n *     onMouseOutNode={onMouseOutNode} />\n */\nexport default class Node extends React.Component {\n  /**\n   * Handle click on the node.\n   * @returns {undefined}\n   */\n  handleOnClickNode = () =>\n    this.props.onClickNode && this.props.onClickNode(this.props.id);\n\n  /**\n   * Handle right click on the node.\n   * @param {Object} event - native event.\n   * @returns {undefined}\n   */\n  handleOnRightClickNode = (event) =>\n    this.props.onRightClickNode &&\n    this.props.onRightClickNode(event, this.props.id);\n\n  /**\n   * Handle mouse over node event.\n   * @returns {undefined}\n   */\n  handleOnMouseOverNode = () =>\n    this.props.onMouseOverNode && this.props.onMouseOverNode(this.props.id);\n\n  /**\n   * Handle mouse out node event.\n   * @returns {undefined}\n   */\n  handleOnMouseOutNode = () =>\n    this.props.onMouseOut && this.props.onMouseOut(this.props.id);\n\n  render() {\n    const nodeProps = {\n      cursor: this.props.cursor,\n      onClick: this.handleOnClickNode,\n      onContextMenu: this.handleOnRightClickNode,\n      onMouseOut: this.handleOnMouseOutNode,\n      onMouseOver: this.handleOnMouseOverNode,\n      opacity: this.props.opacity,\n    };\n\n    const textProps = {\n      dx: 20,\n      dy: CONST.NODE_LABEL_DY,\n      fill: this.props.fontColor,\n      fontSize: this.props.fontSize,\n      fontWeight: this.props.fontWeight,\n      opacity: this.props.opacity,\n    };\n\n    const size = this.props.size;\n\n    let gtx = this.props.cx,\n      gty = this.props.cy,\n      label = null,\n      node = null;\n\n    if (this.props.svg || this.props.viewGenerator) {\n      const height = size / 10;\n      const width = size / 10;\n      const tx = width / 2;\n      const ty = height / 2;\n      const transform = `translate(${tx},${ty})`;\n\n      label = (\n        <text {...textProps} transform={transform}>\n          {this.props.label}\n        </text>\n      );\n\n      // By default, if a view generator is set, it takes precedence over any svg image url\n      if (this.props.viewGenerator && !this.props.overrideGlobalViewGenerator) {\n        node = (\n          <svg {...nodeProps} width={width} height={height}>\n            <foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n              <section\n                style={{ height, width, backgroundColor: \"transparent\" }}\n              >\n                {this.props.viewGenerator(this.props)}\n              </section>\n            </foreignObject>\n          </svg>\n        );\n      } else {\n        node = (\n          <image\n            {...nodeProps}\n            href={this.props.svg}\n            width={width}\n            height={height}\n          />\n        );\n      }\n\n      // svg offset transform regarding svg width/height\n      gtx -= tx;\n      gty -= ty;\n    } else {\n      nodeProps.d = nodeHelper.buildSvgSymbol(size, this.props.type);\n      nodeProps.fill = this.props.fill;\n      nodeProps.stroke = this.props.stroke;\n      nodeProps.strokeWidth = this.props.strokeWidth;\n\n      label = <text {...textProps}>{this.props.label}</text>;\n      node = <path {...nodeProps} />;\n    }\n\n    const gProps = {\n      className: this.props.className,\n      cx: this.props.cx,\n      cy: this.props.cy,\n      id: this.props.id,\n      transform: `translate(${gtx},${gty})`,\n    };\n\n    return (\n      <g {...gProps}>\n        {node}\n        {this.props.renderLabel && label}\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}